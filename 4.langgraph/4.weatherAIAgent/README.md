# 🌤️ 簡潔天氣 AI 助手

使用 LangGraph 實現的簡潔天氣查詢助手，支援自然語言對話和記憶功能。

## 📁 專案結構

```
weather-agent/
├── weather_agent_simple.py  # 主程式 (54行)
├── weather_tools.py         # 天氣工具 (94行) 
├── main.py                  # 互動介面 (24行)
├── Pipfile                  # 依賴管理
└── README.md               # 說明文檔
```

**總計：172 行程式碼，功能完整！**

## 🚀 快速開始

### 1. 安裝依賴
```bash
pipenv install
```

### 2. 啟動 Ollama
```bash
ollama run qwen2.5:7b-instruct
```

### 3. 執行程式
```bash
pipenv run python main.py
```

## 💬 使用範例

```
您: Taipei的天氣如何？
助手: 台北市目前溫度25.9°C，天氣晴朗，風速6.1km/h，濕度81%

您: 那邊會下雨嗎？  
助手: [記住前面詢問的是台北] 根據目前的天氣狀況...
```

## ✨ 核心功能

- 🌍 **天氣查詢**: 全球城市當前天氣和預報
- 🧠 **對話記憶**: 記住對話歷史，支援上下文
- 🔄 **多線程**: 支援多個獨立對話 (thread_id)
- 🛠️ **工具調用**: 自動調用天氣 API
- 📱 **簡潔設計**: 僅 172 行程式碼

## 🎯 LangGraph 最佳實踐

- ✅ **SystemMessage**: 正確定義系統提示
- ✅ **MemorySaver**: 自動管理對話狀態  
- ✅ **ToolNode**: 標準工具整合
- ✅ **簡潔架構**: 避免過度設計

## 🔧 技術棧

- **LangGraph**: 對話流程管理
- **Ollama**: 本地 LLM (Qwen2.5)
- **Open-Meteo**: 免費天氣 API
- **Python**: 程式語言

## 📊 簡化成果

| 版本 | 行數 | 特點 |
|------|------|------|
| 原始版本 | 300+ 行 | 功能過度複雜 |
| **簡潔版本** | **172 行** | ✅ 功能完整且簡潔 |

**簡化原則**: 只實現用戶需要的核心功能，使用框架的最佳實踐，保持程式碼清晰易懂。